webpackJsonp([11],{"2uFj":function(e,t,n){"use strict";t.a={TOKEN_KEY:"token",ROUTER_KEY:"routers",DYNAMIC_ROUTER_KEY:"dynamic-routers",ROUTER_WHITE_LIST:["/login"]}},"5W1q":function(e,t){},MWF8:function(e,t,n){var i={"./":["8hXn",2],"./components/link":["x8DF",0],"./components/link.vue":["x8DF",0],"./components/menu-bar":["7Yuv",0,6],"./components/menu-bar.vue":["7Yuv",0,6],"./components/menu-item":["uQBQ",0],"./components/menu-item.vue":["uQBQ",0],"./components/nav-bar":["H0Nb",7],"./components/nav-bar.vue":["H0Nb",7],"./components/settings":["U0+J",5],"./components/settings.vue":["U0+J",5],"./components/views-bar":["jKLp",0,4],"./components/views-bar.vue":["jKLp",0,4],"./home":["26dS",3,0],"./home.vue":["26dS",3,0],"./index":["8hXn",2],"./index.vue":["8hXn",2],"./login":["Quw4",1],"./login.vue":["Quw4",1],"./user/user":["+L4n",9],"./user/user.vue":["+L4n",9],"./user/user1":["lqB7",8],"./user/user1.vue":["lqB7",8]};function r(e){var t=i[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}r.keys=function(){return Object.keys(i)},r.id="MWF8",e.exports=r},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},r,!1,function(e){n("VtG6")},null,null).exports,o=n("YaEn"),a=n("Dd8w"),u=n.n(a),c=n("SQ6o"),d=n("2uFj"),l=n("NYxO"),f=n("pFYg"),m=n.n(f),p=n("OVpc"),v=n.n(p),E={getCircularReplacer:function(){var e=new v.a;return function(t,n){if("object"===(void 0===n?"undefined":m()(n))&&null!==n){if(e.has(n))return;e.add(n)}return n}},notNull:function(e){return null!=e&&void 0!=e&&"null"!=e&&"undefined"!=e&&""!=e},isNull:function(e){return!this.notNull(e)},getSettingStorage:function(e){var t=localStorage.getItem(e);return"true"==(t=!!this.notNull(t)&&t)}},g={state:{settings:{openSetting:E.getSettingStorage("openSetting"),showViewsBar:E.getSettingStorage("showViewsBar"),keepViewsByRefresh:E.getSettingStorage("keepViewsByRefresh"),collapseMenu:E.getSettingStorage("collapseMenu"),showBreadCrumb:E.getSettingStorage("showBreadCrumb")}},mutations:{UPDATE_SETTINGS:function(e,t){var n=t.key,i=t.value,r=t.type;if(r&&"toggle"===r)return e.settings[n]=!e.settings[n],void localStorage.setItem(n,e.settings[n]);e.settings[n]=i,localStorage.setItem(n,i)}},actions:{updateSettings:function(e,t){(0,e.commit)("UPDATE_SETTINGS",t)}}},h=n("//Fk"),w=n.n(h),V=n("woOf"),S=n.n(V),I=n("Gu7T"),R=n.n(I),_=n("BO1k"),T=n.n(_),y=n("d7EF"),D=n.n(y),O=n("mvHQ"),N=n.n(O),U={state:{keepViewsByRefresh:E.getSettingStorage("keepViewsByRefresh"),visitedViews:[]},mutations:{ADD_VISITED_VIEW:function(e,t){var n=e.keepViewsByRefresh?JSON.parse(localStorage.getItem("visitedViews")||"[]"):e.visitedViews;if(n.some(function(e){return e.path===t.path}))e.visitedViews=n;else{var i={};i.name=t.name||"无标题",i.path=t.path,i.fullPath=t.fullPath,i.fixed=t.fixed,n.push(i),e.visitedViews=n,localStorage.setItem("visitedViews",N()(n))}},DEL_VISITED_VIEW:function(e,t){var n=e.keepViewsByRefresh?JSON.parse(localStorage.getItem("visitedViews")||"[]"):e.visitedViews,i=!0,r=!1,s=void 0;try{for(var o,a=T()(n.entries());!(i=(o=a.next()).done);i=!0){var u=o.value,c=D()(u,2),d=c[0];if(c[1].path===t.path){n.splice(d,1),e.visitedViews=n,localStorage.setItem("visitedViews",N()(n));break}}}catch(e){r=!0,s=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw s}}},DEL_OTHERS_VISITED_VIEWS:function(e,t){var n=e.keepViewsByRefresh?JSON.parse(localStorage.getItem("visitedViews")||"[]"):e.visitedViews,i=n.filter(function(e){return e.meta.affix}),r=!0,s=!1,o=void 0;try{for(var a,u=T()(n.entries());!(r=(a=u.next()).done);r=!0){var c=a.value,d=D()(c,2),l=d[0];if(d[1].path===t.path&&!t.meta.affix){n=n.slice(l,l+1),n=[].concat(R()(i),R()(n)),e.visitedViews=n,localStorage.setItem("visitedViews",N()(n));break}}}catch(e){s=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(s)throw o}}},DEL_ALL_VISITED_VIEWS:function(e){var t=e.visitedViews.filter(function(e){return e.meta.affix});e.visitedViews=t,localStorage.setItem("visitedViews",N()(t))},UPDATE_VISITED_VIEW:function(e,t){var n=!0,i=!1,r=void 0;try{for(var s,o=T()(e.visitedViews);!(n=(s=o.next()).done);n=!0){var a=s.value;if(a.path===t.path){a=S()(a,t);break}}}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}}},actions:{addView:function(e,t){(0,e.dispatch)("addVisitedView",t)},addVisitedView:function(e,t){(0,e.commit)("ADD_VISITED_VIEW",t)},delView:function(e,t){var n=e.dispatch,i=e.state;return new w.a(function(e){n("delVisitedView",t),e({visitedViews:[].concat(R()(i.visitedViews))})})},delVisitedView:function(e,t){var n=e.commit,i=e.state;return new w.a(function(e){n("DEL_VISITED_VIEW",t),e([].concat(R()(i.visitedViews)))})},delOthersViews:function(e,t){var n=e.dispatch,i=e.state;return new w.a(function(e){n("delOthersVisitedViews",t),e({visitedViews:[].concat(R()(i.visitedViews))})})},delOthersVisitedViews:function(e,t){var n=e.commit,i=e.state;return new w.a(function(e){n("DEL_OTHERS_VISITED_VIEWS",t),e([].concat(R()(i.visitedViews)))})},delAllViews:function(e,t){var n=e.dispatch,i=e.state;return new w.a(function(e){n("delAllVisitedViews",t),e({visitedViews:[].concat(R()(i.visitedViews))})})},delAllVisitedViews:function(e){var t=e.commit,n=e.state;return new w.a(function(e){t("DEL_ALL_VISITED_VIEWS"),e([].concat(R()(n.visitedViews)))})},updateVisitedView:function(e,t){(0,e.commit)("UPDATE_VISITED_VIEW",t)}}},Y={state:{user:{},role:[],routers:o.a.options.routes,dynamicRouters:[]},mutations:{GET_USER:function(e){return e.user},SET_USER:function(e,t){e.user=t},SET_ROUTER:function(e,t){e.routers=e.routers.concat(t)},GET_DYNAMIC_ROUTER:function(e){return e.dynamicRouters},SET_DYNAMIC_ROUTER:function(e,t){e.dynamicRouters=t}},actions:{getUser:function(e){(0,e.commit)("GET_USER")},setUser:function(e,t){(0,e.commit)("SET_USER",t)},setRouters:function(e,t){(0,e.commit)("SET_ROUTER",t)},getDynamicRouters:function(e){(0,e.commit)("GET_DYNAMIC_ROUTER")},setDynamicRouters:function(e,t){(0,e.commit)("SET_DYNAMIC_ROUTER",t)}}},b={settings:function(e){return e.settings.settings},visitedViews:function(e){return e.viewsBar.visitedViews},showBreadCrumb:function(e){return e.viewsBar.showBreadCrumb},user:function(e){return e.user.user},routers:function(e){return e.user.routers},dynamicRouters:function(e){return e.user.dynamicRouters}};i.default.use(l.a);var k=new l.a.Store({modules:{settings:g,viewsBar:U,user:Y},getters:b}),x=n("pd7E");o.a.beforeEach(function(e,t,n){c.a.getToken()?0===k.state.user.dynamicRouters.length?A(n,e):n():d.a.ROUTER_WHITE_LIST.indexOf(e.path)>-1?n():n("/login")}),o.a.afterEach(function(){});var A=function(e,t){var n=c.a.getDynamicRouters();0===n.length&&(n=x.a.routers,c.a.setDynamicRouters(n)),k.dispatch("setDynamicRouters",x.a.routers),o.a.addRoutes(B(n)),e(u()({},t,{replace:!0}))},B=function e(t){return t.filter(function(t){if(t.component){var n=t.component;t.component=W(n)}return t.children&&t.children.length&&(t.children=e(t.children)),!0})},W=function(e){return function(){return n("MWF8")("./"+e)}},K=n("zL8q"),L=n.n(K);n("tvR6"),n("5W1q");i.default.config.productionTip=!1,i.default.use(L.a),new i.default({el:"#app",router:o.a,store:k,components:{App:s},template:"<App/>"})},SQ6o:function(e,t,n){"use strict";var i=n("mvHQ"),r=n.n(i),s=n("2uFj"),o={getToken:function(){return sessionStorage.getItem(s.a.TOKEN_KEY)},setToken:function(e){return sessionStorage.setItem(s.a.TOKEN_KEY,e)},delToken:function(){return sessionStorage.setItem(s.a.TOKEN_KEY,null)},getRouters:function(){var e=sessionStorage.get(s.a.ROUTER_KEY);return JSON.parse(e||"[]")},setRouters:function(e){return sessionStorage.set(s.a.ROUTER_KEY,r()(e))},getDynamicRouters:function(){var e=sessionStorage.getItem(s.a.DYNAMIC_ROUTER_KEY);return JSON.parse(e||"[]")},setDynamicRouters:function(e){return sessionStorage.setItem(s.a.DYNAMIC_ROUTER_KEY,r()(e))},delRouters:function(){return sessionStorage.setItem(s.a.ROUTER_KEY,null)}};t.a=o},VtG6:function(e,t){},YaEn:function(e,t,n){"use strict";var i=n("7+uW"),r=n("/ocq");i.default.use(r.a),t.a=new r.a({mode:"history",routes:[{path:"/login",name:"login",component:function(){return n.e(1).then(n.bind(null,"Quw4"))}}]})},pd7E:function(e,t,n){"use strict";t.a={userName:"admin",password:"admin",roles:[],routers:[{path:"/",name:"home",component:"home",redirect:"index",children:[{id:1,path:"index",name:"首页",icon:"el-icon-s-home",parentId:0,fixed:!0,component:"index",meta:{fixed:!0}}]},{path:"https://github.com/dongdong-cloud/vue-admin",name:"项目地址",isExternal:!0,icon:"fa fa-github"},{id:2,path:"/user",name:"组件管理",icon:"fa fa-cogs",parentId:0,component:"home",children:[{id:3,path:"query",name:"用户查询",icon:"el-icon-menu",parentId:2,component:"user/user"},{id:4,path:"add",name:"用户新增",icon:"el-icon-menu",parentId:2,component:"user/user1"}]},{id:5,path:"/user",name:"用户管理",icon:"el-icon-user-solid",parentId:0,component:"home",children:[{id:6,path:"query",name:"用户查询",icon:"el-icon-menu",parentId:5,component:"user/user"},{id:7,path:"add",name:"用户新增",icon:"el-icon-menu",parentId:5,component:"user/user1"}]}]}},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.32a46b7bb1a6b8f948d1.js.map